
name: Create auto-pr
on:
  push:
    branches:
      - feature/*
jobs:
  create-pull-request:
    runs-on: ubuntu-latest
    steps:
      - name: create pull request
        uses: actions/github-script@v6
        with:
          script: |
            const {repo,owner} = context.repo;
            const result = await github.rest.pulls.create({
            title: 'Create pull request',
            owner,
            repo,
            head: '${{github.ref_name}}',
            base: [
            'This pr is auto generated by',
            '[actions/github-script](https://github.com/actions/github-script).'].join('\n')
            });
            github.rest.issues.addLabels({
            owner,
            repo,
            issue_number: result.data.number,
            labels: ['feature', 'automated pr']});
